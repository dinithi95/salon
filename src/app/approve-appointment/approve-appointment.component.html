<nz-card nzTitle="Approve Appointments">

  <nz-table #basicTable2 [nzShowPagination]="false" nzSize="small" [nzData]="pendingAppointments">
    <thead>
    <tr>
      <th>Code</th>
      <th>Customer Name</th>
      <th>Customer Mobile</th>
      <th>Date</th>
      <th>Start Time</th>
      <th>End Time</th>
      <th style="min-width: 110px">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of basicTable2.data">
      <td>{{ data.code }}</td>
      <td>{{ data.name }}</td>
      <td>{{ data.mobile }}</td>
      <td>{{ data.date }}</td>
      <td>{{ data.start }}</td>
      <td>{{ data.end }}</td>
      <td>
          <button nz-button nzType="default" (click)="showModal(data)">Select</button>
      </td>
    </tr>
    </tbody>
  </nz-table>

  <nz-modal [(nzVisible)]="isVisible" nzTitle="The first Modal" (nzOnCancel)="closeModal()" [nzFooter]="modalFooter">
    <ng-template #modalFooter>
      <button nz-button nzType="default" (click)="closeModal()">Cancel</button>
      <button nz-button nzType="danger" nz-popconfirm
              nzPopconfirmTitle="Are you sure?"
              (nzOnConfirm)="updateStatus(modalData?.id, 'Rejected')"
              nzPopconfirmPlacement="top">
        Reject
      </button>
      <button nz-button nzType="primary" nzGhost nz-popconfirm
              nzPopconfirmTitle="Are you sure?"
              (nzOnConfirm)="updateStatus(modalData?.id, 'Active')"
              nzPopconfirmPlacement="top">
        Approve
      </button>
    </ng-template>
    <label>Appointment Code : </label><span>{{modalData?.code}}</span><br>
    <label>Customer Name : </label><span>{{modalData?.name}}</span><br>
    <label>Customer NIC : </label><span>{{modalData?.nic}}</span><br>
    <label>Customer Email : </label><span>{{modalData?.email}}</span><br>
    <label>Customer Mobile : </label><span>{{modalData?.mobile}}</span><br>
    <label>Date : </label><span>{{modalData?.date}}</span><br>
    <label>Start Time : </label><span>{{modalData?.start}}</span><br>
    <label>End Time : </label><span>{{modalData?.end}}</span><br><br>

    <nz-list nzBordered nzHeader="Selected Services">
      <nz-list-item *ngFor="let service of modalData?.services">
        <span>{{service.name}}</span>
        <span>{{service.duration}}</span>
        <span>{{service.price}}</span>
      </nz-list-item>
      <nz-list-item>
        <span><h4>Total</h4></span>
        <span><h4>{{modalData?.cost}}</h4></span>
      </nz-list-item>
    </nz-list>
  </nz-modal>

</nz-card>
